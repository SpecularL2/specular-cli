// Code generated by Wire. DO NOT EDIT.

//go:generate go run github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package di

import (
	"github.com/SpecularL2/specular-cli/internal/service/config"
	"github.com/SpecularL2/specular-cli/internal/spc/handlers/exec"
	"github.com/SpecularL2/specular-cli/internal/spc/handlers/workspace"
	"github.com/SpecularL2/specular-cli/internal/spc/handlers/up"
)

// Injectors from inject.go:

func SetupApplication() (*Application, func(), error) {
	cfg, err := config.NewConfig()
	if err != nil {
		return nil, nil, err
	}
	logger := config.NewLogger(cfg)
	cancelChannel := config.NewCancelChannel()
	context := config.NewContext(logger, cancelChannel)
	workspaceHandler := workspace.NewWorkspaceHandler(cfg, logger)
	runHandler := exec.NewRunHandler(cfg, logger, workspaceHandler)
	upHandler := up.NewUpHandler(cfg, logger)
	application := &Application{
		ctx:       context,
		log:       logger,
		config:    cfg,
		workspace: workspaceHandler,
		executor:  runHandler,
		up: upHandler,
	}
	return application, func() {
	}, nil
}

func SetupApplicationForIntegrationTests(cfg *config.Config) (*TestApplication, func(), error) {
	logger := config.NewLogger(cfg)
	cancelChannel := config.NewCancelChannel()
	context := config.NewContext(logger, cancelChannel)
	workspaceHandler := workspace.NewWorkspaceHandler(cfg, logger)
	runHandler := exec.NewRunHandler(cfg, logger, workspaceHandler)
	upHandler := up.NewUpHandler(cfg, logger)
	application := &Application{
		ctx:       context,
		log:       logger,
		config:    cfg,
		workspace: workspaceHandler,
		executor:  runHandler,
		up: upHandler,
	}
	testApplication := &TestApplication{
		Application: application,
		Ctx:         context,
		Log:         logger,
		Config:      cfg,
		workspace:   workspaceHandler,
	}
	return testApplication, func() {
	}, nil
}
